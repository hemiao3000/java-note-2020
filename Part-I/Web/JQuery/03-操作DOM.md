# jQuery 操作 DOM

## <font color="#0088dd">1. 元素属性操作</font>

通过 `attr()` 方法可以对元素属性进行 **获取**、**设置** 操作。

- 如果是 **获取** 操作，则该操作针对结果集中的第一个元素。
- 如果是 **设置** 操作，则该操作针对结果集中的每一个元素。

- `.attr( 属性名 );`
- `.attr( 属性名, 属性值 );`
- `.attr( {属性名:属性值, 属性名:属性值, ...} );`

通过 `removeAttr(属性名)` 方法可以删除元素的指定属性，该操作针对结果集中的每一个元素。

注意，此处的 **属性** 指的是 HTML 属性。

### HTML 属性和 DOM 属性、attr() 和 prop()：

- attribute 是指 HTML 中的“属性”
- property 是指 DOM 中的“属性”

由于页面上的元素，和内存中的元素对象（DOM对象）是一一对应的。因此，大多数情况下，HTML 中的 `attribute`，DOM 中都有与之对应的 `property` 。

```javascript
console.info( $('#li1').attr('id') );
console.info( $('#li1').prop('id') );
```

但是两者也有不一样的地方：

<big>区别一</big>：有些 DOM 中有的 property，HTML 中没有这样的 attribute

```javascript
console.info( $('#li1').attr('nodeName') );
console.info( $('#li1').prop('nodeName') );
```

<big>区别二</big>：虽然有，但是有些 DOM 中的与之对应的 property 的值的类型却不一样

```javascript
console.info( $('input').attr('disabled') );
console.info( $('input').prop('disabled') );
```

## <font color="#0088dd">2. 元素内容操作</font>

通过 `html()` 和 `text()` 方法可以对元素的内容进行 **获取**、**设置** 操作。

- 如果是 **获取** 操作，则该操作针对结果集中的第一个元素。
- 如果是 **设置** 操作，则该操作针对结果集中的每一个元素。

- `.html() / .html(内容)`
- `.text() / .text(内容)`

`.html()` 获取和设置的是HTML内容；`.text()` 获取和设置的是纯文本内容。

对于表单元素，jQuery 提供了 `.val()` 方法获得表单元素的值。


## <font color="#0088dd">3. 元素样式操作</font>

通过 `css()` 方法可以对样式的内容进行 **获取**、**设置** 操作。

- 如果是 **获取** 操作，则该操作针对结果集中的第一个元素。
- 如果是 **设置** 操作，则该操作针对结果集中的每一个元素。

- `.css(属性名)`
- `.css(属性名, 属性值)`

通过 `addClass(class属性值)` 方法可以直接为结果集中的每一个元素直接添加 class 属性值。

通过 `removeClass(class属性值)` 方法可以为结果集中的每一个元素删除指定的class属性值。


## <font color="#0088dd">4. 创建新的元素节点 和 插入新节点</font>

通过 `$(html)` 即可创建一个元素节点，再通过上述方法可以为该（新）节点添加内容、属性、CSS样式。

添加节点从**添加角度**和**添加位置**两个条件来看分为四种：

|父子添加|说明|
|:-|:-|
|`A.append(B)`|在A元素的末尾添加B元素。添加后，A是父元素，B是其最后子元素|
|`A.appendTo(B)`|将A元素添加至B元素某位。添加后，B是父元素，A是其最后子元素|
|`A.prepend(B)`|在A元素的前部添加B元素。添加后，A是父元素，B是其第一子元素|
|`A.prependTo(B)`|将A元素添加至B元素前部。添加后，B是父元素，A是其第一子元素|

|兄弟添加|说明|
|:-|:-|
|`A.after(B)`|在A元素的后面添加B元素。添加后，A是兄元素，B是其弟元素|
|`A.insertAfter(B)`|将A元素添加到B元素的后面。添加后，B是兄元素，A是其弟元素|
|`A.before(B)`|在A元素的前面添加B元素。添加后，B是兄元素，A是其弟元素|
|`A.insertBefore(B)`|将A元素添加到B元素的前面。添加后，A是兄元素，B是其弟元素|

`.clone()` 是以复制的方式创建一个新的元素节点。默认情况下是不复制源元素的事件处理方法的。`.clone(true)` 表示也复制其事件处理方法。


## <font color="#0088dd">5. 删除和替换元素节点</font>

`.remove()` 方法将会从页面上删除结果集中的每一个元素。

`.empty()` 方法删除的并非元素本身，而是清空元素的所有子元素（包括文本内容），但本元素仍存在。

通过 `.replaceWith()` 方法可以将结果集中的每个元素替换成参数指定的 HTML 或 DOM 元素。


## <font color="#0088dd">6. 遍历结果集中的元素</font>

jQuery 提供了 `.each()` 方法简化了 for 循环遍历结果集。该方法要求传入一个函数，jQuery 会循环调用这个函数。

该函数每一轮循环中有 `this` 关键字可用，它代表着本轮循环所处理的 DOM 对象。另外，该函数还接受一个形参 index，此参数为遍历的需要（从 0 开始）。