# 什么是全文检索

## 数据分类

我们生活中的数据总体分为两种：

| # | 数据类型  | 说明 |
| :-: | :- | :- |
| 1 | 结构化数据 | 指具有固定格式或有限长度的数据，如数据库，元数据等。 |
| 2 | 非结构化数据 | 指不定长或无固定格式的数据，如邮件，word文档等磁盘上的文件 |

## 结构化数据的查询方式

最常见的结构化数据也就是数据库中的数据。

结构化数据很容易查询，因为结构化的数据存储是有规律的。以数据库数据为例，它们有行，有列，有格式/类型，连数据的长度都是固定的。

## 非结构化数据的查询方式

### 顺序扫描法（Serial Scanning）

想象一下你在 Word 文档中使用 `Ctrl + f` 进行搜索。

所谓顺序扫描，比如要找内容包含某一个字符串的文件，就是一个文档一个文档的看，对于每一个文档，从头看到尾，如果此文档包含此字符串，则此文档为我们要找的文件，接着看下一个文件，直到扫描完所有的文件。

这个过程是相当慢的。

### 全文检索（Full-text Search）

将非结构化数据中的一部分信息提取出来，重新组织，使其变得有一定结构，然后对此有一定结构的数据进行搜索，从而达到搜索相对较快的目的。这部分从非结构化数据中提取出的然后重新组织的信息，我们称之**索引**。

从非结构化数据中提取出来的信息，通常也就是你所关注的核心信息，或者是搜索关键字。

例如：字典。字典有两套索引：拼音表和部首检字表。拼音表就是提取的各个文字的读音信息而组成的索引；部首检字表就是提取的各个文字的偏旁部首信息而组成的索引。

> Note：一份非结构化数据，可以不止有一份索引。

**这种先建立索引，再对索引进行搜索的过程就叫全文检索**（Full-text Search）。

虽然创建索引的过程也是非常耗时的，但是索引一旦创建就可以多次使用，全文检索主要处理的是查询，所以耗时间创建索引是值得的。

## 如何实现全文检索

可以使用 Lucene 实现全文检索。Lucene 是 apache 下的一个开放源代码的全文检索引擎工具包。提供了完整的查询引擎和索引引擎，部分文本分析引擎。

Lucene 的目的是为软件开发人员提供一个简单易用的工具包，以方便的在目标系统中实现全文检索的功能。

## 全文检索的应用场景

对于数据量大、数据结构不固定的数据可采用全文检索方式搜索，比如百度、Google等搜索引擎、论坛站内搜索、电商网站站内搜索等。
